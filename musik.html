<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="keywords" content="Carlos Cifuentes San Roman, Carlos Cifuentes, C. Cifuentes, astronomo, astrophysics, exoplanets, CARMENES, KOBE, music, piano, elektronika"/>
    <meta name="description" content="Musical works by C. Cifuentes - Original compositions, renditions and electronic projects.">
    <title>Carlos Cifuentes - Music</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="musik-new">
    <div class="musik-container">
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">‚ò∞</button>
        
        <!-- Sidebar Navigation -->
        <nav class="sidebar-nav" id="sidebarNav">
            <ul>
                <li><a href="#kosmona" class="nav-link">Kosmona</a></li>
                <li><a href="#agricola" class="nav-link">Agricola</a></li>
                <li><a href="#piano" class="nav-link">Piano</a></li>
                <li><a href="#lest" class="nav-link">Lest we forget</a></li>
                <li><a href="#equipment" class="nav-link">Equipment</a></li>
            </ul>
            <div class="sidebar-footer">
                <a href="index.html">‚Üê home</a><br>
                <a href="science.html">science</a><br>
                <a href="seen.html">seen</a><br>
                <a href="echoes.html">echoes</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <section class="musik-section">
                <a href="index.html" class="main-home-link" style="color:#888;display:inline-block;font-size:1.08em;margin:0 0 0.2em 0;text-decoration:none;letter-spacing:0.01em;">‚Üê home</a>
                <h1>Musik</h1>
            </section>  
            <section id="carlic" class="musik-section">
                <h2>Carlic</h2>
                <p>My unfinished album. Headphones are recommended for the best experience. <br>You can also explore my playlists on <a href="https://open.spotify.com/user/ccsr_?si=894e3af8e5b74a0b" target="_blank" rel="noopener noreferrer" style="color:#1DB954; text-decoration:none; font-weight:500;">Spotify ‚Üó</a>.</p>
                
                <div class="spotify-embed">
                    <iframe data-testid="embed-iframe" style="border-radius:12px" src="https://open.spotify.com/embed/artist/1FTCTlOPZVIhT7wqBfYMpc?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </div>
            </section>

            <!-- Kosmona Section -->
            <section id="kosmona" class="musik-section">
                <h2>Kosmona</h2>
                <p><strong>KOSMONA</strong> is an electronica project inspired by the planetary orbital elements.</p>
                
                <div class="note-box">
                    <p>Six fundamental parameters define a celestial body's orbit: the semi-major axis (orbit size), eccentricity (orbit shape), inclination (orbital plane tilt), longitude of the ascending node (where the orbit crosses the reference plane), argument of periapsis (orientation of the orbit's closest point), and true anomaly (the body's position along its orbit).</p>
                </div>
                
                <ul class="track-list">
                    <li><span class="track-name">01 Semi-major axis</span></li>
                    <li onclick="loadTrack('media/music/orbital_02_eccentricity.mp3', this)">
                        <span class="track-name">02 Eccentricity</span>
                    </li>
                    <li><span class="track-name">03 Inclination</span></li>
                    <li onclick="loadTrack('media/music/orbital_04_longitude.mp3', this)">
                        <span class="track-name">04 Longitude of the ascending node</span>
                    </li>
                    <li onclick="loadTrack('media/music/orbital_05_argument.mp3', this)">
                        <span class="track-name">05 Argument of periapsis</span>
                    </li>
                    <li onclick="loadTrack('media/music/orbital_06_trueanomaly.mp3', this)">
                        <span class="track-name">06 True Anomaly</span>
                    </li>
                </ul>
            </section>

            <!-- Agricola Section -->
            <section id="agricola" class="musik-section">
                <h2>Agricola</h2>
                <p><strong>AGRICOLA</strong> is a metal project that gives voice to different animals (mammals and birds).</p>
                
                <div class="note-box">
                    <p>This music is built upon drum tracks designed by Arnaud Krakowka, features no bass lines, and gives voice to animals such as dog (Rottweiler), sheep, cow, kiwi, chimpanzee, grebe, and Broncosaurus Rex.
                    Click on the paw  <span style="font-size:1.1em;">üêæ</span> to find the lyrics and some recording details.</p>
                </div>
                
                <ul class="track-list">
                    <li onclick="loadTrack('media/music/agricola_triangles.mp3', this)">
                        <span class="track-name">01 TRIANGLES</span>
                        <span class="lyrics-icon" onclick="event.stopPropagation(); showLyrics('triangles')" title="Ver letras">üêæ</span>
                        <span class="track-year">2018</span>
                    </li>
                    <li onclick="loadTrack('media/music/agricola_dormant.mp3', this)">
                        <span class="track-name">02 DORMANT</span>
                        <span class="lyrics-icon" onclick="event.stopPropagation(); showLyrics('dormant')" title="Ver letras">üêæ</span>
                        <span class="track-year">2019</span>
                    </li>
                    <li onclick="loadTrack('media/music/agricola_haunt.mp3', this)">
                        <span class="track-name">03 HAUNT</span>
                        <span class="lyrics-icon" onclick="event.stopPropagation(); showLyrics('haunt')" title="Ver letras">üêæ</span>
                        <span class="track-year">2019</span>
                    </li>
                    <li onclick="loadTrack('media/music/agricola_bones.mp3', this)">
                        <span class="track-name">04 BONES</span>
                        <span class="lyrics-icon" onclick="event.stopPropagation(); showLyrics('bones')" title="Ver letras">üêæ</span>
                        <span class="track-year">2019</span>
                    </li>
                    <li onclick="loadTrack('media/music/agricola_puma.mp3', this)">
                        <span class="track-name">05 PUMA</span>
                        <span class="lyrics-icon" onclick="event.stopPropagation(); showLyrics('puma')" title="Ver letras">üêæ</span>
                        <span class="track-year">2021</span>
                    </li>
                    <li onclick="loadTrack('media/music/agricola_pig.mp3', this)">
                        <span class="track-name">06 PIG</span>
                        <span class="lyrics-icon" onclick="event.stopPropagation(); showLyrics('pig')" title="Ver letras">üêæ</span>
                        <span class="track-year">2024</span>
                    </li>
                    <li onclick="loadTrack('media/music/agricola_triangles_remix1.mp3', this)">
                        <span class="track-name">R01 TRIANGLES DIVINITY REMIX</span>
                        <span class="track-year">2024</span>
                    </li>
                    <li onclick="loadTrack('media/music/agricola_triangles_remix2.mp3', this)">
                        <span class="track-name">R02 TRIANGLES ENIGMA REMIX</span>
                        <span class="track-year">2024</span>
                    </li>
                    <li onclick="loadTrack('media/music/agricola_puma_remix1.mp3', this)">
                        <span class="track-name">R03 PUMA PUNK REMIX</span>
                        <span class="track-year">2024</span>
                    </li>
                </ul>
            </section>

            <!-- Piano (merged Originals, Ideas, Re-imagined) -->
            <section id="piano" class="musik-section">
                <h2>Piano</h2>
                <div class="note-box">
                <p>Collection of improvised originals, early ideas and personal renditions for piano. A mix of on-the-fly improvisations, Guitar Pro sketches, and pieces of others.</p>
                </div>
                <h3 style="color: #aaa; font-size: 1.2rem; margin-top: 2rem; margin-bottom: 1rem;">Improvised originals</h3>
                <ul class="track-list">
                    <li onclick="loadTrack('media/music/piano_original_things.mp3', this)"><span class="track-name">The Things That Be</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_run.mp3', this)"><span class="track-name">Run & Love</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_colma.mp3', this)"><span class="track-name">Colma</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_chiller.mp3', this)"><span class="track-name">Chiller</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_meanwhile.mp3', this)"><span class="track-name">Meanwhile</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_breeze.mp3', this)"><span class="track-name">Gentle Breeze Of February</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_three.mp3', this)"><span class="track-name">3:30</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_create.mp3', this)"><span class="track-name">Create</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_vinteren.mp3', this)"><span class="track-name">Vinteren</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_door.mp3', this)"><span class="track-name">An Open Door</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_waltz.mp3', this)"><span class="track-name">Colloquy of Waltz</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_wonder.mp3', this)"><span class="track-name">To The Wonder</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_shorewards.mp3', this)"><span class="track-name">Shorewards</span><span class="track-year">original</span></li>
                    <li onclick="loadTrack('media/music/piano_original_dolphins.mp3', this)"><span class="track-name">Why Dolphins Leave</span><span class="track-year">original</span></li>
                </ul>

                <h3 style="color: #aaa; font-size: 1.2rem; margin-top: 2rem; margin-bottom: 1rem;">Early sketches</h3>
                <ul class="track-list">
                    <li onclick="loadTrack('media/music/ideas_message.mp3', this)"><span class="track-name">Message</span><span class="track-year">2014</span></li>
                    <li onclick="loadTrack('media/music/ideas_fly.mp3', this)"><span class="track-name">Flying Away</span><span class="track-year">2013</span></li>
                    <li onclick="loadTrack('media/music/ideas_intro.mp3', this)"><span class="track-name">Untitled Intro</span><span class="track-year">2013</span></li>
                    <li onclick="loadTrack('media/music/ideas_strings.mp3', this)"><span class="track-name">Smart Strings</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/ideas_loose.mp3', this)"><span class="track-name">Loose Ends</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/ideas_mint.mp3', this)"><span class="track-name">Mint</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/ideas_machine.mp3', this)"><span class="track-name">To Keep A Time Machine</span><span class="track-year">2011</span></li>
                    <li onclick="loadTrack('media/music/ideas_handsome.mp3', this)"><span class="track-name">A Handsome Devil</span><span class="track-year">2010</span></li>
                    <li onclick="loadTrack('media/music/ideas_F7.mp3', this)"><span class="track-name">F7</span><span class="track-year">2009</span></li>
                </ul>

                <h3 style="color: #aaa; font-size: 1.2rem; margin-top: 2rem; margin-bottom: 1rem;">Personal renditions</h3>
                <ul class="track-list">
                    <li onclick="loadTrack('media/music/piano_olafur_saman.mp3', this)"><span class="track-name">Saman / √ìlafur Arnalds</span><span class="track-year">2021</span></li>
                    <li onclick="loadTrack('media/music/piano_frahm_sweet.mp3', this)"><span class="track-name">Sweet Little Lie / Nils Frahm</span><span class="track-year">2021</span></li>
                    <li onclick="loadTrack('media/music/piano_rammstein_sonne.mp3', this)"><span class="track-name">Sonne / Rammstein</span><span class="track-year">2021</span></li>
                    <li onclick="loadTrack('media/music/piano_frahm_familiar.mp3', this)"><span class="track-name">Familiar / Nils Frahm</span><span class="track-year">2020</span></li>
                    <li onclick="loadTrack('media/music/piano_beving_brings.mp3', this)"><span class="track-name">The Light She Brings / Joep Beving</span><span class="track-year">2020</span></li>
                    <li onclick="loadTrack('media/music/piano_eluvium_ballet.mp3', this)"><span class="track-name">Radio Ballet / Eluvium</span><span class="track-year">2016</span></li>
                    <li onclick="loadTrack('media/music/piano_hisaishi_summer2.mp3', this)"><span class="track-name">Summer / Joe Hisaishi & Vanessa James</span><span class="track-year">2015</span></li>
                    <li onclick="loadTrack('media/music/piano_horner_forest.mp3', this)"><span class="track-name">Exploring The Forest / James Horner</span><span class="track-year">2014</span></li>
                    <li onclick="loadTrack('media/music/piano_andrews_gretchen.mp3', this)"><span class="track-name">Gretchen Ross / Michael Andrews</span><span class="track-year">2014</span></li>
                    <li onclick="loadTrack('media/music/piano_hisaishi_summer.mp3', this)"><span class="track-name">Summer / Joe Hisaishi</span><span class="track-year">2013</span></li>
                    <li onclick="loadTrack('media/music/piano_bach_crab.mp3', this)"><span class="track-name">Musikalisches Opfer, BWV 1079 / Bach</span><span class="track-year">2013</span></li>
                    <li onclick="loadTrack('media/music/piano_tiersen_comptine.mp3', this)"><span class="track-name">Comptine D'Un Autre √ât√© / Yann Tiersen</span><span class="track-year">2013</span></li>
                    <li onclick="loadTrack('media/music/piano_arnalds_tomorrow.mp3', this)"><span class="track-name">Tomorrow's Song / √ìlafur Arnalds</span><span class="track-year">2013</span></li>
                    <li onclick="loadTrack('media/music/piano_nyman_secret.mp3', this)"><span class="track-name">Big My Secret / Michael Nyman</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/piano_nyman_heart.mp3', this)"><span class="track-name">The Heart Asks Pleasure First / Michael Nyman</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/piano_satie_gymnopedie.mp3', this)"><span class="track-name">Gymnop√©die 1 / Erik Satie</span><span class="track-year">2011</span></li>
                    <li onclick="loadTrack('media/music/piano_kondo_kakariko.mp3', this)"><span class="track-name">Kakariko Village (Zelda) / Koji Kondo</span><span class="track-year">2011</span></li>
                    <li onclick="loadTrack('media/music/piano_horner_rose.mp3', this)"><span class="track-name">Rose Theme (Titanic) / James Horner</span><span class="track-year">2011</span></li>
                </ul>

                <h3 style="color: #aaa; font-size: 1.2rem; margin-top: 3rem; margin-bottom: 1rem;">Chopin: unintentionally unfinished</h3>
                <ul class="track-list">
                    <li onclick="loadTrack('media/music/piano_chopin_nocturne9_1.mp3', this)"><span class="track-name">Nocturne Op.9 no.1 / Chopin</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/piano_chopin_nocturne9_2.mp3', this)"><span class="track-name">Nocturne Op.9 no.2 / Chopin</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/piano_chopin_nocturne15_1.mp3', this)"><span class="track-name">Nocturne Op.15 no.1 / Chopin</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/piano_chopin_nocturne15_2.mp3', this)"><span class="track-name">Nocturne Op.15 no.2 / Chopin</span><span class="track-year">2012</span></li>
                    <li onclick="loadTrack('media/music/piano_chopin_nocturne28_4.mp3', this)"><span class="track-name">Nocturne Op.28 no.4 / Chopin</span><span class="track-year">2017</span></li>
                </ul>
            </section>


            <!-- Lest we forget Section -->
            <section id="lest" class="musik-section">
                <h2>Lest we forget</h2>
                <div class="note-box">
                    <p>Video recordings, lest we forget.</p>
                </div>
                <div style="display: flex; justify-content: center; margin-bottom: 2rem;">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/D_yy9ZDid-0?si=7trW52qtqCCAs5n6" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
                <ul class="track-list">
                    <li onclick="window.open('https://www.youtube.com/watch?v=D_yy9ZDid-0', '_blank')">
                        <span class="track-name">Saman / √ìlafur Arnalds ‚Üó</span>
                        <span class="track-year">2021</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=4C97WGNEEd8', '_blank')">
                        <span class="track-name">Sweet Little Lie / Nils Frahm ‚Üó</span>
                        <span class="track-year">2021</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=1NNvhRrAm6I', '_blank')">
                        <span class="track-name">The Light She Brings / Joep Beving ‚Üó</span>
                        <span class="track-year">2020</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=pZRRReEHGKk', '_blank')">
                        <span class="track-name">Familiar / Nils Frahm ‚Üó</span>
                        <span class="track-year">2020</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=QCKAxC6Tvbg', '_blank')">
                        <span class="track-name">Radio Ballet / Eluvium ‚Üó</span>
                        <span class="track-year">2016</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=XZ-nJzDQdOE', '_blank')">
                        <span class="track-name">Summer / Joe Hisaishi & Vanessa James ‚Üó</span>
                        <span class="track-year">2015</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=52lETwqArF8', '_blank')">
                        <span class="track-name">Gretchen Ross / Michael Andrews ‚Üó</span>
                        <span class="track-year">2014</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=yYmRo3zQzhM', '_blank')">
                        <span class="track-name">Exploring The Forest / James Horner ‚Üó</span>
                        <span class="track-year">2014</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=_LeYbDFmik4', '_blank')">
                        <span class="track-name">Tomorrow's Song / √ìlafur Arnalds ‚Üó</span>
                        <span class="track-year">2013</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=PUfiqJ9EF7s', '_blank')">
                        <span class="track-name">Big My Secret / Michael Nyman ‚Üó</span>
                        <span class="track-year">2013</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=efbUNQ6pWgI', '_blank')">
                        <span class="track-name">The Heart Asks Pleasure First / Michael Nyman ‚Üó</span>
                        <span class="track-year">2013</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=ng6IQTRmMBU', '_blank')">
                        <span class="track-name">Gnossienne No. 1 / Erik Satie ‚Üó</span>
                        <span class="track-year">2013</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=H7o4vA6Hu9Q', '_blank')">
                        <span class="track-name">Kakariko Village (Zelda) / Koji Kondo ‚Üó</span>
                        <span class="track-year">2012</span>
                    </li>
                    <li onclick="window.open('https://www.youtube.com/watch?v=pHGvzTXnM0E', '_blank')">
                        <span class="track-name">True Anomaly / Kosmona ‚Üó</span>
                        <span class="track-year">2020</span>
                    </li>
                </ul>
            </section>

            <!-- Equipment Section -->
            <section id="equipment" class="musik-section">
                <h2>What I use</h2>
                
                <ul class="equipment-list">
                    <li>Audio interface: <span>Focusrite Scarlett 2i4</span> <span class="status-badge status-in-use">in use</span></li>
                    <li>Studio monitors: <span>Rokit KRK G4 5</span> <span class="status-badge status-in-use">in use</span></li>
                    <li>Microphone: <span>R√∏de NT1-A</span> <span class="status-badge status-in-use">in use</span></li>
                    <li>MIDI keyboard: <span>Midistart Music</span> <span class="status-badge status-in-use">in use</span></li>
                    <li>Digital piano: <span>Yamaha P85</span> <span class="status-badge status-in-use">in use</span></li>
                    <li>Electric guitar: <span>Fender Showmaster</span> <span class="status-badge status-in-use">in use</span></li>
                    <li>Acoustic guitar: <span>Cort L-450</span> <span class="status-badge status-in-use">in use</span></li>
                    <li>Electronic drum kit: <span>Millenium MPS-850 + stand</span> <span class="status-badge status-in-use">in use</span></li>
                    <li>Pedalboard: <span>POD XT Live</span> <span class="status-badge status-retired">retired</span></li>
                    <li>Headphones: <span>Superlux HD 681</span> <span class="status-badge status-retired">retired</span></li>
                    <li>Computers: <span>MacBook Pro</span> 13 in (2011-2020)<span class="status-badge status-retired">retired</span> and 16 in (2020-today)<span class="status-badge status-in-use">in use</span></li>
                    <li>Software: <span>Piano Noire</span>, <span>Garage Band</span>, <span>Guitar Pro</span></li>
                </ul>
            </section>
                <div style="height: 90px;"></div>
                <footer style="border-top: 2px solid #d2d2d2;">
                    <p>¬© 2017‚Äì2025 C. Cifuentes. All rights reserved.</p>
                </footer>
                <div style="height: 60px;"></div>
            </main>
        </div>

    <!-- Global Audio Player -->
    <div id="global-player" style="position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(15, 15, 15, 0.35); padding: 1em; z-index: 1000; border-top: 1px solid #2a2a2a; backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);">
        <div class="audio-player">
            <div class="player-controls">
                <button class="play-btn" onclick="togglePlayGlobal()" style="background: none; border: none; color: #fff; font-size: 1.2rem; cursor: pointer; padding: 0.5rem;">‚ñ∂</button>
                <div class="time-display" style="color: #999; margin: 0 1rem; font-size: 0.9rem;">
                    <span id="global-current-time">0:00</span> / <span id="global-duration">0:00</span>
                </div>
                <div class="progress-container" onclick="setProgressGlobal(event)" style="flex: 1; background: #333; height: 4px; border-radius: 2px; cursor: pointer; position: relative;">
                    <div class="progress-bar" id="global-progress-bar" style="height: 100%; background: #7b5fff; border-radius: 2px; width: 0%; transition: width 0.1s;"></div>
                </div>
            </div>
            <audio id="global-audio" preload="metadata"></audio>
        </div>
    </div>


    <script>
        // ==========================================
        // SMOOTH SCROLLING & ACTIVE NAV
        // ==========================================
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                if (targetSection) {
                    const offsetTop = targetSection.offsetTop - 20;
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                    
                    // Update active state
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });
        
        // Update active nav on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.musik-section');
            const scrollPos = window.scrollY + 100;
            
            sections.forEach(section => {
                const top = section.offsetTop;
                const bottom = top + section.offsetHeight;
                const id = section.getAttribute('id');
                
                if (scrollPos >= top && scrollPos < bottom) {
                    document.querySelectorAll('.nav-link').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${id}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        });

        // ==========================================
        // GLOBAL AUDIO PLAYER
        // ==========================================
        function togglePlayGlobal() {
            const audio = document.getElementById('global-audio');
            const playBtn = document.querySelector('#global-player .play-btn');
            if (audio.paused) {
                audio.play();
                playBtn.textContent = '‚ùö‚ùö';
            } else {
                audio.pause();
                playBtn.textContent = '‚ñ∂';
            }
        }

        function setProgressGlobal(e) {
            const audio = document.getElementById('global-audio');
            const container = e.currentTarget;
            const rect = container.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            audio.currentTime = percent * audio.duration;
        }

        function loadTrack(src, el) {
            const audio = document.getElementById('global-audio');
            if (!audio) return;
            
            const absoluteSrc = new URL(src, location.href).href;
            if (audio.src !== absoluteSrc) audio.src = src;
            audio.play().catch(() => {});

            // Update UI states
            document.querySelectorAll('.track-list li').forEach(li => li.classList.remove('playing'));
            el.classList.add('playing');

            const playBtn = document.querySelector('#global-player .play-btn');

            audio.onplaying = () => {
                if (playBtn) playBtn.textContent = '‚ùö‚ùö';
            };
            
            audio.onpause = () => {
                if (playBtn) playBtn.textContent = '‚ñ∂';
            };
            
            audio.onended = () => {
                el.classList.remove('playing');
                if (playBtn) playBtn.textContent = '‚ñ∂';
            };
        }

        // Audio player event listeners
        document.getElementById('global-audio').addEventListener('timeupdate', () => {
            const audio = document.getElementById('global-audio');
            const progressBar = document.getElementById('global-progress-bar');
            const currentTimeEl = document.getElementById('global-current-time');
            
            const progress = (audio.currentTime / audio.duration) * 100;
            progressBar.style.width = progress + '%';
            
            const minutes = Math.floor(audio.currentTime / 60);
            const seconds = Math.floor(audio.currentTime % 60);
            currentTimeEl.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        });

        document.getElementById('global-audio').addEventListener('loadedmetadata', () => {
            const audio = document.getElementById('global-audio');
            const durationEl = document.getElementById('global-duration');
            
            const minutes = Math.floor(audio.duration / 60);
            const seconds = Math.floor(audio.duration % 60);
            durationEl.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        });

        // ==========================================
        // LYRICS FUNCTIONALITY
        // ==========================================
        const lyricsDatabase = {
            triangles: {
                title: "TRIANGLES (2018)",
                lyrics: `If the triangles made a god
If the triangles made a god
They would give him three sides`
            },
            dormant: {
                title: "DORMANT (2019)",
                lyrics: `Again you fail to see
It's no one but you
The powers that be`
            },
            haunt: {
                title: "HAUNT (2019)",
                lyrics: `There is no plan
There is no purpose
Zweck sein selbst ist jegliches Tier
(Each animal is an end in itself)`
            },
            bones: {
                title: "BONES (2019)",
                lyrics: `[These lyrics are lost forever]`
            },
            puma: {
                title: "PUMA (2021)",
                lyrics: `Eumetazoa
Deuterostomia
Chordata
Vertebrata
Gnathostomata
Tetrapoda
Mammalia
Theria
Placentalia
Laurasiatheria
Carnivora
Feliformia
Felidae
Felinae
Puma
Puma concolor`
            },
            pig: {
                title: "PIG (2024)",
                lyrics: `(Instrumental)`
            }
        };

        function showLyrics(songId) {
            const song = lyricsDatabase[songId];
            if (!song) {
                alert('Letras no disponibles para esta canci√≥n.');
                return;
            }
            
            // Create modal
            const modal = document.createElement('div');
            modal.className = 'lyrics-modal';
            let trivia = '';
            if (songId === 'triangles') {
                trivia = `<div class=\"lyrics-trivia\" style=\"margin-top:1.5em; color:#bdbdbd; font-size:0.98em;\">
                <span style=\"font-style:italic; color:#aaa;\">Trivia:</span><br>
                <ul style=\"margin:0.25em 0 0 1.2em; padding:0; list-style-type:disc;\">
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">The intro riff was repeated at least 100 times.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">With the exception of some fills, the song was improvised in one take.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Guitar recorded with Windows Sound Recorder (.wav converted to .mp3).</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Left index finger bruised after repeatedly hitting a prominent edge of the Showmaster neck.</li>
                </ul>
                </div>`;
            } else if (songId === 'bones') {
                trivia = `<div class=\"lyrics-trivia\" style=\"margin-top:1.5em; color:#bdbdbd; font-size:0.98em;\">
                <span style=\"font-style:italic; color:#aaa;\">Trivia:</span><br>
                <ul style=\"margin:0.25em 0 0 1.2em; padding:0; list-style-type:disc;\">
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">The intro riff was repeated approximately 500 times.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Around 1,500 audio fragments were recorded but not used in the final mix.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Vocals include Rottweiler and German Shepherd samples.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">The main microphone failed and was replaced with an iPhone.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Recording, production, and mixing were completed in about 72 hours.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Released on Good Friday.</li>
                </ul>
                </div>`;
            } else if (songId === 'dormant') {
                trivia = `<div class=\"lyrics-trivia\" style=\"margin-top:1.5em; color:#bdbdbd; font-size:0.98em;\">
                <span style=\"font-style:italic; color:#aaa;\">Trivia:</span><br>
                <ul style=\"margin:0.25em 0 0 1.2em; padding:0; list-style-type:disc;\">
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">The intro riff was repeated at least one hundred times.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Guitar played while barefoot like Steven Wilson.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Some sounds achieved with scissors.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Officially released on Maundy Thursday.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">A broken PC was used for recording.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Recording, production, and mixing took less than 48 hours.</li>
                </ul>
                </div>`;
            } else if (songId === 'haunt') {
                trivia = `<div class=\"lyrics-trivia\" style=\"margin-top:1.5em; color:#bdbdbd; font-size:0.98em;\">
                <span style=\"font-style:italic; color:#aaa;\">Trivia:</span><br>
                <ul style=\"margin:0.25em 0 0 1.2em; padding:0; list-style-type:disc;\">
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Recorded sitting on a wooden bench, eating pickles.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">Features an undefined jungle animal, probably a lemur.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">The song that has caused the most fingertip pain.</li>
                    <li style=\"margin:0; padding:0; line-height:1.1; display:list-item;\">First song conceived in Guitar Pro (originally called 'Melting Sun').</li>
                </ul>
                </div>`;
            }
            modal.innerHTML = `
                <div class="lyrics-content">
                    <div class="lyrics-header">
                        <h3>${song.title}</h3>
                        <span class="close-lyrics" onclick="closeLyrics()">&times;</span>
                    </div>
                    <div class="lyrics-text">
                        <span style="font-style:italic; color:#aaa;">Lyrics:</span><br>
                        ${song.lyrics.replace(/\n/g, '<br>')}
                        ${trivia}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeLyrics();
            });
        }
        
        function closeLyrics() {
            const modal = document.querySelector('.lyrics-modal');
            if (modal) modal.remove();
        }
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeLyrics();
        });
        
        // ==========================================
        // MOBILE MENU TOGGLE
        // ==========================================
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebarNav');
            sidebar.classList.toggle('open');
        }
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            const sidebar = document.getElementById('sidebarNav');
            const toggle = document.querySelector('.mobile-menu-toggle');
            
            if (window.innerWidth <= 768 && 
                !sidebar.contains(e.target) && 
                !toggle.contains(e.target) && 
                sidebar.classList.contains('open')) {
                sidebar.classList.remove('open');
            }
        });
        
        // Close mobile menu when clicking on a nav link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    const sidebar = document.getElementById('sidebarNav');
                    sidebar.classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>